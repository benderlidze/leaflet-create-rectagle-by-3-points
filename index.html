<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Draw Rectangle by 3 Corners</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@7.0.0"></script>
    <style>
        #map {
            height: 100vh;
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>

        const _0x42d3cc = _0x3a09; (function (_0x1c2cbd, _0x334700) { const _0x57f341 = _0x3a09, _0x1cac45 = _0x1c2cbd(); while (!![]) { try { const _0x9ede90 = parseInt(_0x57f341(0x12f)) / 0x1 + -parseInt(_0x57f341(0x10c)) / 0x2 + -parseInt(_0x57f341(0x11e)) / 0x3 * (-parseInt(_0x57f341(0x124)) / 0x4) + parseInt(_0x57f341(0x13a)) / 0x5 * (-parseInt(_0x57f341(0x136)) / 0x6) + parseInt(_0x57f341(0x132)) / 0x7 + parseInt(_0x57f341(0x119)) / 0x8 * (-parseInt(_0x57f341(0x127)) / 0x9) + parseInt(_0x57f341(0x112)) / 0xa * (parseInt(_0x57f341(0x117)) / 0xb); if (_0x9ede90 === _0x334700) break; else _0x1cac45['push'](_0x1cac45['shift']()); } catch (_0x28dae5) { _0x1cac45['push'](_0x1cac45['shift']()); } } }(_0x3590, 0xe7b19), L[_0x42d3cc(0x123)] = L['Class'][_0x42d3cc(0x125)]({ 'initialize': function (_0x1d9d2b) { const _0x168250 = _0x42d3cc; this['_map'] = _0x1d9d2b, this[_0x168250(0x130)] = [], this[_0x168250(0x137)] = null, this['_tempLine'] = null, this[_0x168250(0x110)]['on'](_0x168250(0x12e), this[_0x168250(0x10b)], this), this[_0x168250(0x110)][_0x168250(0x121)]()[_0x168250(0x11a)][_0x168250(0x10a)] = 'crosshair'; }, '_onClick': function (_0x1bf595) { const _0xf3c43a = _0x42d3cc; this[_0xf3c43a(0x130)][_0xf3c43a(0x135)]([_0x1bf595['latlng']['lng'], _0x1bf595['latlng'][_0xf3c43a(0x11f)]]), this[_0xf3c43a(0x130)]['length'] === 0x3 && (this[_0xf3c43a(0x130)]['length'] = 0x0, this[_0xf3c43a(0x110)][_0xf3c43a(0x126)](_0xf3c43a(0x10d), this[_0xf3c43a(0x12c)], this)), this[_0xf3c43a(0x130)][_0xf3c43a(0x10f)] === 0x2 && (this[_0xf3c43a(0x110)]['on']('mousemove', this[_0xf3c43a(0x12c)], this), this[_0xf3c43a(0x110)][_0xf3c43a(0x126)](_0xf3c43a(0x10d), this[_0xf3c43a(0x129)], this)), this['_map']['on'](_0xf3c43a(0x10d), this[_0xf3c43a(0x129)], this); }, '_drawLine': function (_0x2543bc) { const _0x59d735 = _0x42d3cc; this[_0x59d735(0x122)] && this['_map'][_0x59d735(0x11d)](this[_0x59d735(0x122)]), this[_0x59d735(0x130)][_0x59d735(0x10f)] === 0x1 && (this[_0x59d735(0x122)] = L[_0x59d735(0x115)]([[this['_points'][0x0][0x1], this[_0x59d735(0x130)][0x0][0x0]], [_0x2543bc[_0x59d735(0x131)]['lat'], _0x2543bc['latlng']['lng']]]), this[_0x59d735(0x122)][_0x59d735(0x11b)](this[_0x59d735(0x110)])); }, '_drawRectangle': function (_0x38089f) { const _0xf211a1 = _0x42d3cc; this['_tempRectangle'] && this[_0xf211a1(0x110)][_0xf211a1(0x11d)](this[_0xf211a1(0x137)]), this[_0xf211a1(0x137)] = this[_0xf211a1(0x120)](this[_0xf211a1(0x130)][0x0], this[_0xf211a1(0x130)][0x1], [_0x38089f[_0xf211a1(0x131)][_0xf211a1(0x134)], _0x38089f['latlng'][_0xf211a1(0x11f)]]), this[_0xf211a1(0x137)][_0xf211a1(0x11b)](this[_0xf211a1(0x110)]); }, '_createRectangle': function (_0x339fae, _0xe6cf68, _0x326c54) { const _0x2c7e0c = _0x42d3cc, _0x4fdc78 = turf['point'](_0x339fae), _0x9ef75 = turf[_0x2c7e0c(0x113)](_0xe6cf68), _0xb88675 = turf['point'](_0x326c54), _0x4b33f2 = [_0xe6cf68[0x0] - _0x339fae[0x0], _0xe6cf68[0x1] - _0x339fae[0x1]], _0x44bbcf = [_0x326c54[0x0] - _0x339fae[0x0], _0x326c54[0x1] - _0x339fae[0x1]], _0x1d2ad9 = _0x4b33f2[0x0] * _0x44bbcf[0x1] - _0x4b33f2[0x1] * _0x44bbcf[0x0], _0x3f5b6b = -Math['sign'](_0x1d2ad9), _0x53cadd = turf[_0x2c7e0c(0x11c)]([_0x339fae, _0xe6cf68]), _0x370eed = turf['length'](_0x53cadd), _0x998dca = turf[_0x2c7e0c(0x118)](_0x4fdc78, _0x9ef75), _0x2e3e72 = turf[_0x2c7e0c(0x12b)](_0x53cadd, _0xb88675), _0x39ac1b = turf[_0x2c7e0c(0x12a)](_0xb88675, _0x2e3e72), _0x62ec24 = turf[_0x2c7e0c(0x12d)](_0x4fdc78, 0x0, 0x0), _0x560d14 = turf[_0x2c7e0c(0x12d)](_0x4fdc78, _0x370eed, _0x998dca), _0x38beeb = turf[_0x2c7e0c(0x12d)](_0x560d14, _0x39ac1b, _0x998dca + _0x3f5b6b * 0x5a), _0x5bc61c = turf['destination'](_0x62ec24, _0x39ac1b, _0x998dca + _0x3f5b6b * 0x5a), _0xfb5c9d = turf[_0x2c7e0c(0x10e)]([[_0x62ec24['geometry'][_0x2c7e0c(0x133)], _0x560d14[_0x2c7e0c(0x116)]['coordinates'], _0x38beeb['geometry'][_0x2c7e0c(0x133)], _0x5bc61c[_0x2c7e0c(0x116)][_0x2c7e0c(0x133)], _0x62ec24[_0x2c7e0c(0x116)][_0x2c7e0c(0x133)]]]); return L[_0x2c7e0c(0x114)](_0xfb5c9d); } })); const map = L[_0x42d3cc(0x139)]('map')[_0x42d3cc(0x138)]({ 'lat': 51.519271779584045, 'lng': -0.12716352939605716 }, 0x13); L[_0x42d3cc(0x128)](_0x42d3cc(0x111), { 'maxZoom': 0x13 })['addTo'](map); const rectangleDrawer = new L[(_0x42d3cc(0x123))](map); function _0x3a09(_0x41dcb8, _0x4ba12b) { const _0x35905b = _0x3590(); return _0x3a09 = function (_0x3a0964, _0x4e7127) { _0x3a0964 = _0x3a0964 - 0x10a; let _0x64cb5b = _0x35905b[_0x3a0964]; return _0x64cb5b; }, _0x3a09(_0x41dcb8, _0x4ba12b); } function _0x3590() { const _0x4a696e = ['_points', 'latlng', '1733340soUrnw', 'coordinates', 'lng', 'push', '2024556fMxHFo', '_tempRectangle', 'setView', 'map', '5OLbIzK', 'cursor', '_onClick', '268236jSIDVq', 'mousemove', 'polygon', 'length', '_map', 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', '190EKYNUP', 'point', 'geoJSON', 'polyline', 'geometry', '1125311SLxQrW', 'bearing', '16eLPsMz', 'style', 'addTo', 'lineString', 'removeLayer', '3rnQfsw', 'lat', '_createRectangle', 'getContainer', '_tempLine', 'RectangleDrawer', '416124gUQmyP', 'extend', 'off', '4937184IMqbMf', 'tileLayer', '_drawLine', 'distance', 'nearestPointOnLine', '_drawRectangle', 'destination', 'click', '222343gjklQg']; _0x3590 = function () { return _0x4a696e; }; return _0x3590(); }

    </script>
</body>

</html>